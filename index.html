<!-- Needed to add this for live server to auto update -->
<!DOCTYPE html> 
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Amnesia Restored</title>
  <!-- CSS styles -->
  <link id="styles" rel="stylesheet" type="text/css" href="css/dev.css">
  <link rel="stylesheet" href="scr/leaflet.css">

  <!-- Google Fonts -->
  <link href="https://fonts.googleapis.com/css2?family=Nanum+Gothic+Coding:wght@700&family=Work+Sans&display=swap" rel="stylesheet">
  
  <!-- Addtional Scripts -->
  <script src="scr/leaflet.js"></script>
  <script src="scr/jquery/jquery-3.6.0.min.js"></script>

</head>
<body>
  <div class="game">
    <!-- Game content -->
    <div class="sidebar">
      <button id="invbutton">INVENTORY</button>
      <button id="addrbutton">ADDRESS BOOK</button>
      <button id="mapbutton">MAP</button>
    </div>
    
    <div id="container-o">
      <div id="currroom">CURRENT ROOM</div>
      <div id="playerio">
        <div id="map" style="background-color: #32302f"></div>
        <div id="output"></div>
        <!-- Player input -->
        <div class="input"><span class="ml-2" id="arrow">> </span><input id="input" autofocus spellcheck="false" autocomplete="off"></div>
      </div>
      
      <div class="statusbar">
        <div id="hunger">
          <div>img</div>
          <div>HUNGER</div>
        </div>
        <div id="fatigue">
          <div>img</div>
          <div>FATIGUE</div>
        </div>
        <div id="money">MONEY</div>
        <div id="time">TIME</div>
      </div>
    </div>
    
    <div class="sidebar" id="menubutton">
      <button>SAVE</button>
      <button>SETTINGS</button>
      <button>HELP</button>
    </div>

    <div id="address">ADDRESS</div>
    <div id="inv">INV
      <div class="inventorygrid">
        <div>1</div>
        <div>2</div>
        <div>3</div>
        <div>4</div>
        <div>5</div>
        <div>6</div>
        <div>7</div>
        <div>8</div>
        <div>9</div>
        <div>10</div>
        <div>11</div>
        <div>12</div>
      </div>
    </div>

    
  </div>
  
  
  <script type="text/javascript">
//Creating the Map
  //var map = L.map('map').setView([0, 0], 0);
  var map = L.map('map', {center:[29.0, 76.776695], zoom:2});
  map.invalidateSize();
  setTimeout(function(){ map.invalidateSize(true)}, 300);
  L.tileLayer('map/{z}/{x}/{y}.png', {
    continuousWorld: false,
    noWrap: true,	
    minZoom: 2,
    maxZoom: 6,
  }).addTo(map);
//Coordinate Finder
  var marker = L.marker([0, 0], {
    draggable: true,
  }).addTo(map);
  marker.bindPopup('LatLng Marker').openPopup();
  marker.on('dragend', function(e) {
    marker.getPopup().setContent(marker.getLatLng().toString()).openOn(map);
  });
//Markers


//MAP BUTTON
/*const targetDiv = document.getElementById("map");
  const btn = document.getElementById("mapbutton");
  btn.onclick = function () {
  if (targetDiv.style.display !== "none") {
    targetDiv.style.display = "none";
  } else {
    targetDiv.style.display = "block";
    map.invalidateSize();
  }
};*/

$("#mapbutton").click(function() {
  $("#map").toggle();
  map.invalidateSize();
  $("#output").toggle();
  $(".input").toggle();
})

//INVENTORY BUTTON
const invDiv = document.getElementById("inv");
  const invBtn = document.getElementById("invbutton");
  invBtn.onclick = function () {
  if (invDiv.style.display !== "none") {
    invDiv.style.display = "none";
  } else {
    invDiv.style.display = "block";
  }
};

//ADDRESS BUTTON
const addrDiv = document.getElementById("address");
  const addrBtn = document.getElementById("addrbutton");
  addrBtn.onclick = function () {
  if (addrDiv.style.display !== "none") {
    addrDiv.style.display = "none";
  } else {
    addrDiv.style.display = "block";
  }
};
</script>



  <!-- Include game engine -->
  <!-- Be sure to load in dependencies first -->
  <script src="scr/text-engine/parser.js"></script>
  <script src="scr/text-engine/init.js"></script>
  <script src="scr/text-engine/pcommand.js"></script>
  <script src="scr/text-engine/internalfunc.js"></script>
  <script src='scr/text-engine/playercharacter.js'></script>

  <!-- Include game data ('disk') -->
  <script src="scr/text-engine/game-disks/streets.js"></script>

<!-- Load disk into engine -->
<script>loadDisk(streets);</script>
</body>
